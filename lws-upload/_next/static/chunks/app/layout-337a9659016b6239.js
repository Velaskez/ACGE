(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},2421:(e,t,r)=>{"use strict";r.d(t,{ClientProviders:()=>s});var a=r(5155),n=r(7600);function s(e){let{children:t}=e;return(0,a.jsx)(n.O,{children:t})}},5356:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},7600:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,O:()=>u});var a=r(5155),n=r(2115),s=r(5695);let o=(0,n.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,n.useState)(null),[i,l]=(0,n.useState)(!0),[c,h]=(0,n.useState)(!1),d=(0,s.useRouter)();(0,n.useEffect)(()=>{let e=setTimeout(()=>{f()},0);return()=>clearTimeout(e)},[]);let f=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();u(t.user)}}catch(e){console.error("Erreur lors de la v\xe9rification de l'authentification:",e)}finally{l(!1),h(!0)}},m=async(e,t)=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(r.ok){let e=await r.json();return u(e.user),!0}return!1}catch(e){return console.error("Erreur lors de la connexion:",e),!1}},y=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),u(null),d.push("/login")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}},P=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();u(t.user)}}catch(e){console.error("Erreur lors du rafra\xeechissement des donn\xe9es utilisateur:",e)}};return(0,a.jsx)(o.Provider,{value:{user:r,isLoading:i,login:m,logout:y,refreshUser:P},children:t})}function i(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9795:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5356,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,2421))}},e=>{e.O(0,[444,441,964,358],()=>e(e.s=9795)),_N_E=e.O()}]);